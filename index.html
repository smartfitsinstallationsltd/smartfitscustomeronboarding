<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>SmartFits | Customer Onboarding</title>
  <link rel="stylesheet" href="./assets/style.css" />
</head>

<body>
  <header>
    <div class="shell">
      <div class="headInner">
        <div class="brand">
          <img class="logo" alt="SmartFits" src="./images/smartfits_logo.png" />
          <div class="brandText">
            <div class="name">SMARTFITS</div>
            <div class="tag">Customer Onboarding</div>
          </div>
        </div>

        <div class="headRight">
          <button type="button" class="chipBtn" id="openAdminBtn">Sign in as an Admin</button>
        </div>
      </div>
    </div>
  </header>

  <!-- ABOUT -->
  <section>
    <div class="shell">
      <div class="grid2">
        <div>
          <p class="kicker">Welcome</p>
          <h1>SmartFits Installations Ltd</h1>
          <div class="accentLine"></div>
          <div class="lineGap"></div>

          <p class="lead">
            Thank you for choosing SmartFits Installations Ltd. We appreciate your business and the trust you have placed in our team.
            Established in 2007, SmartFits Installations Ltd specialises in the professional installation and deployment of vehicle safety equipment
            and fleet management software, supporting safer, more efficient, and compliant fleet operations.
          </p>

          <p class="lead">
            As our valued new customer, we are committed to providing high-quality workmanship, consistent standards, and reliable support.
            Our experienced engineers &amp; office staff ensure your installations are completed efficiently, safely, and with minimal operational disruption.
          </p>

          <p class="lead">
            Our goal is to deliver reliable and compliant installations, enable seamless fleet software deployments, reduce vehicle downtime,
            and build long-term partnerships through performance, transparency, and trust.
          </p>

          <p class="lead">
            We value the opportunity to support your current project and look forward to working with you on future fleet and safety operations.
          </p>
        </div>

        <aside class="media heroMedia">
          <!-- change margin-top in CSS: .heroImg { margin-top: 10px; } -->
          <img class="heroImg" alt="Introduction image" src="./images/introduction_image.png" loading="lazy" />
        </aside>
      </div>
    </div>
  </section>

  <!-- TEAM -->
  <section>
    <div class="shell">
      <p class="kicker">Meet the team</p>
      <h2>SmartFits Installations Team</h2>
      <div class="accentLine"></div>
      <div class="lineGap"></div>

      <!-- SALES -->
      <div class="doc">
        <h3>Sales &amp; Business Development</h3>
        <p>
          Our Sales &amp; Business Development team builds relationships and communicates the value of our solutions to ensure your fleet and safety needs are met.
        </p>

        <div class="teamGrid">
          <button type="button" class="person personBtn" data-person="tara">
            <img class="avatar" alt="Tara Hassall" src="./images/tara_hassall.png" loading="lazy" />
            <div class="personText">
              <div class="personName">Tara Hassall</div>
              <div class="personRole">Managing Director</div>
            </div>
          </button>

          <button type="button" class="person personBtn" data-person="charlie">
            <img class="avatar" alt="Charlie Inger" src="./images/charlie_inger.png" loading="lazy" />
            <div class="personText">
              <div class="personName">Charlie Inger</div>
              <div class="personRole">Sales &amp; Business Development Manager</div>
            </div>
          </button>
        </div>
      </div>

      <!-- CUSTOMER SUCCESS -->
      <div class="doc">
        <h3>Customer Success Team</h3>
        <p>
          Our Customer Success Team provides ongoing assistance and guidance, ensuring you get the most from your installations, fleet management software,
          and vehicle safety systems. This division also includes Technical Support, offering expert help whenever required.
        </p>

        <div class="leaderRow">
          <button type="button" class="person personBtn leaderCard" data-person="emma">
            <img class="avatar" alt="Emma Sumner" src="./images/emma_sumner.png" loading="lazy" />
            <div class="personText">
              <div class="personName">Emma Sumner</div>
              <div class="personRole">Customer Success Team Leader</div>
            </div>
          </button>
        </div>

        <div class="teamGrid">
          <button type="button" class="person personBtn" data-person="kelly">
            <img class="avatar" alt="Kelly Mullen" src="./images/kelly_mullen.png" loading="lazy" />
            <div class="personText">
              <div class="personName">Kelly Mullen</div>
              <div class="personRole">Customer Success Team Member</div>
            </div>
          </button>

          <button type="button" class="person personBtn" data-person="aleks">
            <img class="avatar" alt="Aleks Fossick" src="./images/aleks_fossick.png" loading="lazy" />
            <div class="personText">
              <div class="personName">Aleks Fossick</div>
              <div class="personRole">Customer Success Team Member</div>
            </div>
          </button>
        </div>
      </div>

      <!-- PROJECT COORDS -->
      <div class="doc">
        <h3>Project Coordinators / Field Operations Support</h3>
        <p>
          The Project Coordinators manage advanced installations and large-scale deployments, overseeing planning, scheduling, and execution to ensure every complex
          project runs smoothly and on time.
        </p>
        <p>
          Our Field Operations Support Team is office-based, coordinating directly with customers to schedule dates and times for engineers to attend and complete
          installations efficiently and safely.
        </p>

        <div class="leaderRow">
          <button type="button" class="person personBtn leaderCard" data-person="roz">
            <img class="avatar" alt="Roz Hardwick" src="./images/roz_hardwick.png" loading="lazy" />
            <div class="personText">
              <div class="personName">Roz Hardwick</div>
              <div class="personRole">Operations Lead</div>
            </div>
          </button>
        </div>

        <div class="teamGrid">
          <button type="button" class="person personBtn" data-person="ellie">
            <img class="avatar" alt="Ellie Topliss" src="./images/ellie_topliss.png" loading="lazy" />
            <div class="personText">
              <div class="personName">Ellie Topliss</div>
              <div class="personRole">Project Coordinator</div>
            </div>
          </button>

          <button type="button" class="person personBtn" data-person="sophie">
            <img class="avatar" alt="Sophie Turner" src="./images/sophie_turner.png" loading="lazy" />
            <div class="personText">
              <div class="personName">Sophie Turner</div>
              <div class="personRole">Project Coordinator</div>
            </div>
          </button>

          <button type="button" class="person personBtn" data-person="amanda">
            <img class="avatar" alt="Amanda Clarke" src="./images/amanda_clarke.png" loading="lazy" />
            <div class="personText">
              <div class="personName">Amanda Clarke</div>
              <div class="personRole">Field Operations Team Member</div>
            </div>
          </button>

          <button type="button" class="person personBtn" data-person="rosie">
            <img class="avatar" alt="Rosie Smart" src="./images/rosie_smart.png" loading="lazy" />
            <div class="personText">
              <div class="personName">Rosie Smart</div>
              <div class="personRole">Field Operations Team Member</div>
            </div>
          </button>

          <button type="button" class="person personBtn" data-person="bridie">
            <img class="avatar" alt="Bridie Southam" src="./images/bridie_southam.png" loading="lazy" />
            <div class="personText">
              <div class="personName">Bridie Southam</div>
              <div class="personRole">Field Operations Team Member</div>
            </div>
          </button>

          <button type="button" class="person personBtn" data-person="kasia">
            <img class="avatar" alt="Kasia Dzielak" src="./images/kasia_dzielak.png" loading="lazy" />
            <div class="personText">
              <div class="personName">Kasia Dzielak</div>
              <div class="personRole">Field Operations Team Member</div>
            </div>
          </button>
        </div>
      </div>

      <!-- FORM -->
      <div class="blockTop">
        <p class="kicker">Client information</p>
        <h2>Customer Onboarding Form</h2>
        <div class="accentLine"></div>
        <div class="lineGap"></div>

        <p class="lead">
          Please complete the details below. This helps us set up your account correctly, plan deployment efficiently, and keep invoicing accurate.
          Fields marked with <span class="reqStar">*</span> are required.
        </p>

        <div class="formWrap">
          <form id="deploymentForm" autocomplete="off" novalidate>
            <div class="fields">
              <div>
                <label for="fullCompanyName">Full Company Name<span class="requiredMark">*</span></label>
                <input class="field" id="fullCompanyName" name="fullCompanyName" type="text" required />
              </div>

              <div class="row2">
                <div>
                  <label for="vatNumber">VAT Number<span class="requiredMark">*</span></label>
                  <input class="field" id="vatNumber" name="vatNumber" type="text" required />
                </div>
                <div>
                  <label for="companyRegNumber">Company Registration Number<span class="requiredMark">*</span></label>
                  <input class="field" id="companyRegNumber" name="companyRegNumber" type="text" required />
                </div>
              </div>

              <div>
                <label for="invoiceAddress">Full Address for Invoicing Purposes<span class="requiredMark">*</span></label>
                <textarea class="field" id="invoiceAddress" name="invoiceAddress" required></textarea>
              </div>

              <div class="row2">
                <div>
                  <label for="accountsContactName">Accounts Department Contact Name<span class="requiredMark">*</span></label>
                  <input class="field" id="accountsContactName" name="accountsContactName" type="text" required />
                </div>
                <div>
                  <label for="accountsContactNumber">Accounts Department Contact Number<span class="requiredMark">*</span></label>
                  <input class="field" id="accountsContactNumber" name="accountsContactNumber" type="text" required />
                </div>
              </div>

              <div>
                <label for="accountsEmail">Accounts Department Email (for receiving invoices)<span class="requiredMark">*</span></label>
                <input class="field" id="accountsEmail" name="accountsEmail" type="text" required />
                <div class="hint">Please use the primary email for invoices and invoice queries.</div>
              </div>

              <div>
                <label for="poNumber">Purchase Order Number for Invoice if Required</label>
                <input class="field" id="poNumber" name="poNumber" type="text" />
              </div>

              <div class="row2">
                <div>
                  <label for="mainContactName">Main Contact Name for Installation Deployment<span class="requiredMark">*</span></label>
                  <input class="field" id="mainContactName" name="mainContactName" type="text" required />
                </div>
                <div>
                  <label for="mainContactNumber">Main Contact Number for Installation Deployment<span class="requiredMark">*</span></label>
                  <input class="field" id="mainContactNumber" name="mainContactNumber" type="text" required />
                </div>
              </div>

              <div>
                <label for="mainContactEmail">Main Contact Email for Installation Deployment<span class="requiredMark">*</span></label>
                <input class="field" id="mainContactEmail" name="mainContactEmail" type="text" required />
                <div class="hint">We’ll use this contact for deployment scheduling and updates.</div>
              </div>

              <div class="checkRow">
                <input type="checkbox" id="acceptPolicy" name="acceptPolicy" required />
                <label for="acceptPolicy">
                  I Have Read &amp; Accept the
                  <button type="button" class="linkBtn" id="openPolicyBtn"><b>Cancellation Policy</b></button>
                </label>
              </div>

              <input type="hidden" id="acceptPolicyValue" name="acceptPolicyValue" value="No" />
            </div>

            <div class="actions">
              <button type="button" id="clearBtn">Clear</button>
              <button type="submit" class="primary" id="submitBtn">Submit</button>
            </div>

            <div class="status" id="status"></div>
          </form>
        </div>
      </div>
    </div>
  </section>

  <!-- ADDITIONAL SERVICES -->
  <section>
    <div class="shell">
      <p class="kicker">Additional Services</p>
      <h2>Additional Services</h2>
      <div class="accentLine"></div>
      <div class="lineGap"></div>

      <div class="svcGrid">
        <div class="svcCard">
          <div class="svcHeader">
            <img alt="Prolius" src="./images/prolius_logo.png" loading="lazy" />
          </div>
          <div class="svcContent">
            <div class="svcTitle">Prolius</div>
            <div class="svcText">
              Prolius Fleet Management is a comprehensive digital platform that helps organisations monitor, manage, and optimise their vehicle fleets by providing integrated tracking, compliance management, driver performance insights and licence checking.
            </div>
          </div>
        </div>

        <div class="svcCard">
          <div class="svcHeader">
            <img alt="Multi-camera systems" src="./images/multi_camera_systems.png" loading="lazy" />
          </div>
          <div class="svcContent">
            <div class="svcTitle">Multi-camera systems</div>
            <div class="svcText">
              Integrated into MyGeotab, the multi-camera system delivers seamless access to real-time and recorded video alongside vehicle and driver data, enhancing safety insights, incident review, and fleet operational visibility from a single platform.
            </div>
          </div>
        </div>

        <div class="svcCard">
          <div class="svcHeader">
            <img alt="Live Dash-cams" src="./images/vehicle_dashcam.png" loading="lazy" />
          </div>
          <div class="svcContent">
            <div class="svcTitle">Live Dash-cams</div>
            <div class="svcText">
              Integrated into MyGeotab, AI-enabled dash cameras capture and analyse driving behaviour in real time, using advanced algorithms to detect risk, improve driver safety, support coaching, and provide actionable insights directly within a single fleet management platform.
            </div>
          </div>
        </div>

        <div class="svcCard">
          <div class="svcHeader">
            <img alt="Commercial Upgrades" src="./images/commercial_upgrades.png" loading="lazy" />
          </div>
          <div class="svcContent">
            <div class="svcTitle">Commercial Upgrades</div>
            <div class="svcText">
              Commercial vehicle upgrades such as parking sensors and advanced lighting systems enhance driver awareness, manoeuvring safety, and vehicle visibility, while supporting safer operations and reduced incident risk across the fleet.
            </div>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- ✅ CANCELLATION POLICY ON HOME SCREEN (boxed like the rest) -->
  <section>
    <div class="shell">
      <p class="kicker">Policy</p>
      <h2>Cancellation Policy</h2>
      <div class="accentLine"></div>
      <div class="lineGap"></div>

      <div class="doc">
        <p style="margin-top:0;">
          At SmartFits we are committed to delivering high-quality service through efficient scheduling and resource planning.
          To ensure fairness to both our clients and our field engineers, the following policy applies regarding cancellations and incomplete work:
        </p>

        <h3 style="margin-top:14px;">Cancellation Notice</h3>
        <ul>
          <li><b>More Than One Business Days’ Notice:</b> Cancellations made with more than one full business day (24 hours) notice will not incur any charge.</li>
          <li><b>Within One Business Day (24 Hours):</b> Cancellations made within one full business day (24 hours) of the scheduled appointment will be charged at 100% of the originally quoted full price of the job.</li>
          <li>Business days are defined as Monday to Friday, excluding UK bank holidays. Weekends and bank holidays are not counted as working days for notice periods.</li>
        </ul>

        <h3 style="margin-top:14px;">If you wish to cancel an appointment:</h3>
        <ul>
          <li>Call us on <b>01283 533330</b>, or</li>
          <li>Email us at <b>support@smartfits.co.uk</b></li>
        </ul>
        <p>We recommend email as it provides a date and time stamp for proof of cancellation.</p>

        <h3 style="margin-top:14px;">Incomplete Jobs Due to Client-Side Issues</h3>
        <p>
          If our engineer attends site and is unable to complete the scheduled work due to client-side issues
          (e.g., unavailable vehicles, missing equipment, denied access), it is treated as a late cancellation, and:
        </p>
        <ul>
          <li>The client will be charged 100% of the originally quoted full price.</li>
          <li>Return visits will charge only for additional time/work to complete remaining tasks.</li>
        </ul>

        <h3 style="margin-top:14px;">Billing Responsibility</h3>
        <p>
          This policy applies to the invoiced party regardless of vehicle or site owner, including third-party installations.
          Fees/communications will be directed to the established account holder.
        </p>

        <div style="margin-top:14px;">
          <button class="chipBtn" type="button" id="openPolicyBtn2">View in popup</button>
        </div>
      </div>
    </div>
  </section>

  <!-- FOOTER -->
  <footer>
    <div class="shell">
      <div class="footBox">
        <div class="footTop">
          <img class="logo" alt="SmartFits" src="./images/smartfits_logo.png" style="height:30px" />
          <div class="footThanks">Thank you for the business.</div>
        </div>

        <div class="small">
          SmartFits Installations Limited • 01283 533330 •
          <span>support@smartfits.co.uk</span><br/>
          4 Eastgate Business Centre, Eastern Avenue, Burton on Trent, DE13 0AT
        </div>
      </div>
    </div>
  </footer>

  <!-- ✅ ADMIN MODAL -->
  <div class="modalBackdrop" id="adminModal" aria-hidden="true">
    <div class="modal modalWide" role="dialog" aria-modal="true" aria-labelledby="adminTitle">
      <div class="modalHeader">
        <div class="title" id="adminTitle">Admin</div>
        <button class="closeBtn" type="button" id="closeAdminBtn">Close</button>
      </div>

      <div class="modalBody">
        <div id="adminLoginView">
          <div class="formWrap" style="margin-top:0;">
            <form id="adminLoginForm" autocomplete="off" novalidate>
              <div class="fields">
                <div>
                  <label for="adminEmail">Email</label>
                  <input class="field" id="adminEmail" name="email" type="email" placeholder="name@smartfits.co.uk" required />
                </div>

                <div>
                  <label for="adminPassword">Password</label>
                  <input class="field" id="adminPassword" name="password" type="password" placeholder="••••••••" required />
                </div>
              </div>

              <div class="actions">
                <button type="button" id="adminClearBtn">Clear</button>
                <button type="submit" class="primary" id="adminSubmitBtn">Sign in</button>
              </div>

              <div class="status" id="adminStatus"></div>
            </form>
          </div>
        </div>

        <div id="adminDashView" style="display:none;">
          <div class="adminTop">
            <div class="adminSignedIn" id="adminSignedInAs"></div>
            <button class="adminLogout" type="button" id="adminLogoutBtn">Log out</button>
          </div>

          <div class="adminCard">
            <div class="adminCardTitle">Search files</div>
            <div class="adminCardSub">Search by PDF filename, and optionally filter by date.</div>

            <div class="adminRow">
              <input class="field" id="fileNameQuery" type="text" placeholder="Search by file name..." />
              <button class="chipBtn" type="button" id="searchFilesBtn">Search</button>
              <button class="ghostBtn" type="button" id="toggleDateFilterBtn">Search by date too?</button>
            </div>

            <div id="dateFilterWrap" style="display:none; margin-top:12px;">
              <div class="row2">
                <div>
                  <label for="dateFrom">From date</label>
                  <input class="field" id="dateFrom" type="date" />
                </div>
                <div>
                  <label for="dateTo">To date</label>
                  <input class="field" id="dateTo" type="date" />
                </div>
              </div>
            </div>

            <div class="status" id="filesStatus" style="margin-top:10px;"></div>

            <div class="adminTableWrap">
              <table class="adminTable">
                <thead>
                  <tr>
                    <th>File</th>
                    <th>Created</th>
                    <th>Actions</th>
                  </tr>
                </thead>
                <tbody id="filesTbody">
                  <tr><td colspan="3" class="muted">No results yet.</td></tr>
                </tbody>
              </table>
            </div>
          </div>

          <div class="adminCard">
            <div class="adminCardTitle">Send a welcome email</div>
            <div class="adminCardSub">Send a simple welcome email to a new customer contact.</div>

            <div class="row2">
              <div>
                <label for="welcomeTo">Customer Email (recipient)</label>
                <input class="field" id="welcomeTo" type="email" placeholder="name@company.co.uk" />
              </div>
              <div>
                <label for="welcomeCustomer">Customer Name</label>
                <input class="field" id="welcomeCustomer" type="text" placeholder="Customer Name" />
              </div>
            </div>

            <div style="margin-top:12px;">
              <label for="welcomeCompany">Company Name</label>
              <input class="field" id="welcomeCompany" type="text" placeholder="Company Name" />
            </div>

            <div class="adminRow" style="margin-top:12px;">
              <button class="chipBtn" type="button" id="sendWelcomeBtn">Send welcome email</button>
              <div class="status" id="welcomeStatus" style="margin:0;"></div>
            </div>
          </div>

          <div class="adminCard" id="logsCard" style="display:none;">
            <div class="adminCardTitle">Logs</div>
            <div class="adminCardSub">Only available to authorised admins.</div>

            <div class="row2">
              <div>
                <label for="logFrom">From date</label>
                <input class="field" id="logFrom" type="date" />
              </div>
              <div>
                <label for="logTo">To date</label>
                <input class="field" id="logTo" type="date" />
              </div>
            </div>

            <div class="row2" style="margin-top:12px;">
              <div>
                <label for="logEmailContains">Admin email contains</label>
                <input class="field" id="logEmailContains" type="text" placeholder="e.g. finley@" />
              </div>
              <div>
                <label for="logActionType">Action type</label>
                <select class="field" id="logActionType">
                  <option value="ALL">All</option>
                  <option value="LOGIN">LOGIN</option>
                  <option value="LOGOUT">LOGOUT</option>
                  <option value="DELETE_FILE">DELETE_FILE</option>
                  <option value="WELCOME_EMAIL">WELCOME_EMAIL</option>
                </select>
              </div>
            </div>

            <div class="adminRow" style="margin-top:12px;">
              <button class="chipBtn" type="button" id="loadLogsBtn">Load logs</button>
              <div class="status" id="logsStatus" style="margin:0;"></div>
            </div>

            <div class="adminTableWrap" style="margin-top:10px;">
              <table class="adminTable adminTableLogs">
                <thead>
                  <tr>
                    <th>Timestamp</th>
                    <th>Admin</th>
                    <th>Action</th>
                    <th>Details</th>
                  </tr>
                </thead>
                <tbody id="logsTbody">
                  <tr><td colspan="4" class="muted">No logs loaded.</td></tr>
                </tbody>
              </table>
            </div>
          </div>

        </div>
      </div>
    </div>
  </div>

  <!-- ✅ PERSON MODAL -->
  <div class="modalBackdrop" id="personModal" aria-hidden="true">
    <div class="modal modalMedium" role="dialog" aria-modal="true" aria-labelledby="personTitle">
      <div class="modalHeader">
        <div class="title" id="personTitle">Team Member</div>
        <button class="closeBtn" type="button" id="closePersonBtn">Close</button>
      </div>
      <div class="modalBody" id="personBody"></div>
    </div>
  </div>

  <!-- ✅ DETAIL MODAL -->
  <div class="modalBackdrop" id="detailModal" aria-hidden="true">
    <div class="modal modalMedium" id="detailModalPanel" role="dialog" aria-modal="true" aria-labelledby="detailTitle">
      <div class="modalHeader">
        <div class="title" id="detailTitle">Details</div>
        <button class="closeBtn" type="button" id="closeDetailBtn">Close</button>
      </div>
      <div class="modalBody" id="detailBody"></div>
    </div>
  </div>

  <!-- Policy Template (used in popup) -->
  <template id="policyTemplate">
    <div class="doc">
      <p style="margin-top:0;">
        At SmartFits we are committed to delivering high-quality service through efficient scheduling and resource planning.
        To ensure fairness to both our clients and our field engineers, the following policy applies regarding cancellations and incomplete work:
      </p>

      <h3 style="margin-top:14px;">Cancellation Notice</h3>
      <ul>
        <li><b>More Than One Business Days’ Notice:</b> Cancellations made with more than one full business day (24 hours) notice will not incur any charge.</li>
        <li><b>Within One Business Day (24 Hours):</b> Cancellations made within one full business day (24 hours) of the scheduled appointment will be charged at 100% of the originally quoted full price of the job.</li>
        <li>Business days are defined as Monday to Friday, excluding UK bank holidays. Weekends and bank holidays are not counted as working days for notice periods.</li>
      </ul>

      <h3 style="margin-top:14px;">If you wish to cancel an appointment:</h3>
      <ul>
        <li>Call us on <b>01283 533330</b>, or</li>
        <li>Email us at <b>support@smartfits.co.uk</b></li>
      </ul>
      <p>We recommend email as it provides a date and time stamp for proof of cancellation.</p>

      <h3 style="margin-top:14px;">Incomplete Jobs Due to Client-Side Issues</h3>
      <p>
        If our engineer attends site and is unable to complete the scheduled work due to client-side issues
        (e.g., unavailable vehicles, missing equipment, denied access), it is treated as a late cancellation, and:
      </p>
      <ul>
        <li>The client will be charged 100% of the originally quoted full price.</li>
        <li>Return visits will charge only for additional time/work to complete remaining tasks.</li>
      </ul>

      <h3 style="margin-top:14px;">Billing Responsibility</h3>
      <p>
        This policy applies to the invoiced party regardless of vehicle or site owner, including third-party installations.
        Fees/communications will be directed to the established account holder.
      </p>
    </div>
  </template>

  <script src="./assets/app.js"></script>
</body>
</html>
